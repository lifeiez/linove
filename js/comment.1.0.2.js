(function(){function a(a,b,d){var e=MGJS.$(a).innerHTML,f='<a href="#'+b+'">@'+e.replace(/\t|\n|\r\n/g,"")+" </a> \n";c(f,d)}function b(a,b,c,e){var f=MGJS.$(a).innerHTML,g=MGJS.$(c).innerHTML,h='<blockquote cite="#'+c+'">';h+='\n<strong><a href="#'+b+'">'+f.replace(/\t|\n|\r\n/g,"")+"</a> :</strong>",h+=g.replace(/\t/g,""),h+="</blockquote>\n",d(h,e)}function c(a,b){return MGJS.$(b)&&"textarea"==MGJS.$(b).type?(field=MGJS.$(b),field.value.indexOf(a)>-1?(alert("You've already appended this reply!"),!1):(field.value=""==field.value.replace(/\s|\t|\n/g,"")?a:field.value.replace(/[\n]*$/g,"")+"\n\n"+a,field.focus(),void 0)):(alert("The comment box does not exist!"),!1)}function d(a,b){if(!MGJS.$(b)||"textarea"!=MGJS.$(b).type)return alert("The comment box does not exist!"),!1;if(field=MGJS.$(b),document.selection)field.focus(),sel=document.selection.createRange(),sel.text=a,field.focus();else if(field.selectionStart||"0"==field.selectionStart){var c=field.selectionStart,d=field.selectionEnd,e=c;field.value=field.value.substring(0,c)+a+field.value.substring(d,field.value.length),e+=a.length,field.focus(),field.selectionStart=e,field.selectionEnd=e}else field.value+=a,field.focus()}window.MGJS_CMT={},window.MGJS_CMT.reply=a,window.MGJS_CMT.quote=b})();